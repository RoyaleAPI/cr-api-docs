import{_ as t,p as e,q as o,Q as n,R as a,t as p,a1 as s}from"./framework-96b046e1.js";const r={},i=a("h1",{id:"clan-weekly-history",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#clan-weekly-history","aria-hidden":"true"},"#"),p(" Clan Weekly History")],-1),c=s('<p>This endpoint returns a time series of member stats. This is similar to <a href="/endpoints/clan_history">Clan History</a> but has weekly statistics. Currently it is enabled for a selected set of clans which meet our internal criteria.</p><h2 id="how-to-be-included" tabindex="-1"><a class="header-anchor" href="#how-to-be-included" aria-hidden="true">#</a> How to be included</h2><p>To enable stats for your clan, add our URL <code>royaleapi.com</code> or <code>cr-api.com</code> in your clan description and make a request to the <a href="/endpoints/clan_track">/clan/:tag/track</a> endpoint and we will start tracking it once we have detected it. You can verify that it has started if you visit the <a href="/endpoints/clan_tracking">clan tracking</a>. You may also visit the web site. If clan tracking is enabled, you should see the default message be replaced by the chart view with empty graphs.</p><h2 id="http-request" tabindex="-1"><a class="header-anchor" href="#http-request" aria-hidden="true">#</a> HTTP Request</h2><p><code>GET https://api.royaleapi.com/clan/:tag/history/weekly</code></p><table><thead><tr><th>Name</th><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>/clan/:tag/history/weekly</code></td><td>GET</td><td>Clan history.</td></tr></tbody></table><h3 id="url-parameters" tabindex="-1"><a class="header-anchor" href="#url-parameters" aria-hidden="true">#</a> URL Parameters</h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><code>TAG</code></td><td>The clan tag of the clan to retrieve</td></tr></tbody></table><h3 id="query-string-parameters" tabindex="-1"><a class="header-anchor" href="#query-string-parameters" aria-hidden="true">#</a> Query String Parameters</h3><table><thead><tr><th>Name</th><th>Data Type</th><th>Required / Optional</th><th>Description</th></tr></thead><tbody><tr><td><code>days</code></td><td>number</td><td>Optional, default to 7</td><td>This takes today&#39;s data + specified days</td></tr></tbody></table><h2 id="response" tabindex="-1"><a class="header-anchor" href="#response" aria-hidden="true">#</a> Response</h2><h3 id="included-in-the-tracking" tabindex="-1"><a class="header-anchor" href="#included-in-the-tracking" aria-hidden="true">#</a> Included in the tracking</h3><p>https://api.royaleapi.com/clan/2U2GGQJ/history/weekly</p>',13),l=s(`<div class="custom-container tip"><p class="custom-container-title">Note</p><p>Full JSON Response will be made available once more data is gathered.</p></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;2018-01-01-23-00&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;donations&quot;</span><span class="token operator">:</span> <span class="token number">4070</span><span class="token punctuation">,</span>
        <span class="token property">&quot;memberCount&quot;</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
        <span class="token property">&quot;members&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;clanRank&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                <span class="token property">&quot;crowns&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;donations&quot;</span><span class="token operator">:</span> <span class="token number">58</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Min&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;tag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;L88P2282&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;trophies&quot;</span><span class="token operator">:</span> <span class="token number">4610</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token property">&quot;clanRank&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token property">&quot;crowns&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token property">&quot;donations&quot;</span><span class="token operator">:</span> <span class="token number">76</span><span class="token punctuation">,</span>
                <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;matiz&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;tag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;G0JVYY0&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;trophies&quot;</span><span class="token operator">:</span> <span class="token number">4443</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;2018-01-08-23-00&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        ...
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="not-included-in-the-tracking" tabindex="-1"><a class="header-anchor" href="#not-included-in-the-tracking" aria-hidden="true">#</a> Not included in the tracking</h3><p>https://api.royaleapi.com/clan/28JU8P0Y/history/weekly</p><p>Below is the full JSON Response with a 417 Expectation Failed error</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code>    <span class="token punctuation">{</span>
    <span class="token property">&quot;error&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;statusCode&quot;</span><span class="token operator">:</span> <span class="token number">417</span><span class="token punctuation">,</span>
    <span class="token property">&quot;statusText&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cannot fetch clan data: cannot fetch clan data: clan not tracked&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;info&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Additional information and support: https://discord.me/royaleapi&quot;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6);function d(u,h){return e(),o("div",null,[i,n(" TODO: HAVE TO DOUBLE CHECK AS I DONT SEE ANYTHING WORKING HERE "),c,n(' <a href="/json/clan_2U2GGQJ_history_weekly.json">Full JSON Response</a> '),l])}const m=t(r,[["render",d],["__file","clan_history_weekly.html.vue"]]);export{m as default};
